\doxysection{zct\+::Timer Class Reference}
\hypertarget{classzct_1_1Timer}{}\label{classzct_1_1Timer}\index{zct::Timer@{zct::Timer}}


A timer that can be used to execute callbacks at regular intervals in an event driven application.  




{\ttfamily \#include $<$Timer.\+hpp$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classzct_1_1Timer_a5629cbeab8b919bd96ed3371404c6547}{Timer}} (const char \texorpdfstring{$\ast$}{*}name, std\+::function$<$ void()$>$ expiry\+Callback)
\item 
void \mbox{\hyperlink{classzct_1_1Timer_ac98b8c2905ad49b083265b9da5b8a750}{start}} (int64\+\_\+t period\+\_\+ms)
\item 
void \mbox{\hyperlink{classzct_1_1Timer_aba24924ed33fdfd888a587b7e119a3d0}{start}} (int64\+\_\+t start\+Duration\+\_\+ms, int64\+\_\+t period\+\_\+ms)
\item 
void \mbox{\hyperlink{classzct_1_1Timer_ae0b1e80350596a948566ce453d0fed48}{stop}} ()
\item 
bool \mbox{\hyperlink{classzct_1_1Timer_af9f6a3111b752f1b8837eb1318378228}{is\+Running}} () const
\item 
void \mbox{\hyperlink{classzct_1_1Timer_a541f0bde7e703bb26dbc4c766b36d251}{update\+After\+Expiry}} ()
\item 
int64\+\_\+t \mbox{\hyperlink{classzct_1_1Timer_a863fb0c8b80f6b444eecee69fe4622e2}{get\+Next\+Expiry\+Time\+Ticks}} () const
\item 
void \mbox{\hyperlink{classzct_1_1Timer_a6701738d9815e1270882c1dd207a8890}{set\+Is\+Registered}} (bool is\+Registered)
\item 
bool \mbox{\hyperlink{classzct_1_1Timer_a35c7906a045b2fd2c4aadd5e7bd050a4}{get\+Is\+Registered}} () const
\item 
void \mbox{\hyperlink{classzct_1_1Timer_a34c526f469797c56ea8ea080308eeedc}{set\+Expiry\+Callback}} (std\+::function$<$ void()$>$ callback)
\item 
const std\+::function$<$ void()$>$ \& \mbox{\hyperlink{classzct_1_1Timer_a086c1eefecf02223ca9d2424d59692c8}{get\+Expiry\+Callback}} () const
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
int64\+\_\+t \mbox{\hyperlink{classzct_1_1Timer_ad59df18accad8b7987eea780b2e03681}{period\+\_\+ticks}} = 0
\item 
int64\+\_\+t \mbox{\hyperlink{classzct_1_1Timer_aea6344e1e2f4780409ac6fab119e50ab}{start\+Time\+\_\+ticks}} = 0
\item 
int64\+\_\+t \mbox{\hyperlink{classzct_1_1Timer_ac83e60ac68c62cfdb6731df6409ac277}{next\+Expiry\+Time\+\_\+ticks}} = 0
\item 
bool \mbox{\hyperlink{classzct_1_1Timer_a94e27678d7e899132fa4b69dec1d43ee}{m\+\_\+is\+Running}} = false
\item 
bool \mbox{\hyperlink{classzct_1_1Timer_a523476fda81240be3246e365c74e94d3}{m\+\_\+is\+Registered}} = false
\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{classzct_1_1Timer_a7965a7a0b20f111aca41d4465e926a67}{m\+\_\+name}}
\item 
std\+::function$<$ void()$>$ \mbox{\hyperlink{classzct_1_1Timer_a61fd51b066e873a1a192455782b9b7d8}{m\+\_\+expiry\+Callback}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A timer that can be used to execute callbacks at regular intervals in an event driven application. 

This class is designed to be used with the \doxylink{classzct_1_1TimerManager}{zct\+::\+Timer\+Manager} class. The timer manager monitors a list of timers and executes callbacks when the timers expire.

This class is also designed to be used with the \doxylink{classzct_1_1EventThread}{zct\+::\+Event\+Thread} class. The event thread can block until either a timer expires or an external event is received. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classzct_1_1Timer_a5629cbeab8b919bd96ed3371404c6547}\label{classzct_1_1Timer_a5629cbeab8b919bd96ed3371404c6547} 
\index{zct::Timer@{zct::Timer}!Timer@{Timer}}
\index{Timer@{Timer}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{Timer()}{Timer()}}
{\footnotesize\ttfamily zct\+::\+Timer\+::\+Timer (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{name,  }\item[{std\+::function$<$ void()$>$}]{expiry\+Callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Create a new timer with a callback function.

The timer will not be running after creation.


\begin{DoxyParams}{Parameters}
{\em name} & The name of the timer, used for logging purposes. \\
\hline
{\em expiry\+Callback} & Callback function to call when the timer expires. This will be called by the \doxylink{classzct_1_1EventThread}{Event\+Thread} when the timer expires. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\Hypertarget{classzct_1_1Timer_a086c1eefecf02223ca9d2424d59692c8}\label{classzct_1_1Timer_a086c1eefecf02223ca9d2424d59692c8} 
\index{zct::Timer@{zct::Timer}!getExpiryCallback@{getExpiryCallback}}
\index{getExpiryCallback@{getExpiryCallback}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{getExpiryCallback()}{getExpiryCallback()}}
{\footnotesize\ttfamily const std\+::function$<$ void()$>$ \& zct\+::\+Timer\+::get\+Expiry\+Callback (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the expiry callback function.

\begin{DoxyReturn}{Returns}
The expiry callback function, or nullptr if no callback is set. 
\end{DoxyReturn}
\Hypertarget{classzct_1_1Timer_a35c7906a045b2fd2c4aadd5e7bd050a4}\label{classzct_1_1Timer_a35c7906a045b2fd2c4aadd5e7bd050a4} 
\index{zct::Timer@{zct::Timer}!getIsRegistered@{getIsRegistered}}
\index{getIsRegistered@{getIsRegistered}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{getIsRegistered()}{getIsRegistered()}}
{\footnotesize\ttfamily bool zct\+::\+Timer\+::get\+Is\+Registered (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the is\+Registered flag.

\begin{DoxyReturn}{Returns}
The value of the is\+Registered flag. 
\end{DoxyReturn}
\Hypertarget{classzct_1_1Timer_a863fb0c8b80f6b444eecee69fe4622e2}\label{classzct_1_1Timer_a863fb0c8b80f6b444eecee69fe4622e2} 
\index{zct::Timer@{zct::Timer}!getNextExpiryTimeTicks@{getNextExpiryTimeTicks}}
\index{getNextExpiryTimeTicks@{getNextExpiryTimeTicks}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{getNextExpiryTimeTicks()}{getNextExpiryTimeTicks()}}
{\footnotesize\ttfamily int64\+\_\+t zct\+::\+Timer\+::get\+Next\+Expiry\+Time\+Ticks (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Get the next expiry time of the timer.

\begin{DoxyReturn}{Returns}
The next expiry time of the timer in ticks. 
\end{DoxyReturn}
\Hypertarget{classzct_1_1Timer_af9f6a3111b752f1b8837eb1318378228}\label{classzct_1_1Timer_af9f6a3111b752f1b8837eb1318378228} 
\index{zct::Timer@{zct::Timer}!isRunning@{isRunning}}
\index{isRunning@{isRunning}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{isRunning()}{isRunning()}}
{\footnotesize\ttfamily bool zct\+::\+Timer\+::is\+Running (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}

Check if the timer is running.

\begin{DoxyReturn}{Returns}
true if the timer is running, false otherwise. 
\end{DoxyReturn}
\Hypertarget{classzct_1_1Timer_a34c526f469797c56ea8ea080308eeedc}\label{classzct_1_1Timer_a34c526f469797c56ea8ea080308eeedc} 
\index{zct::Timer@{zct::Timer}!setExpiryCallback@{setExpiryCallback}}
\index{setExpiryCallback@{setExpiryCallback}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{setExpiryCallback()}{setExpiryCallback()}}
{\footnotesize\ttfamily void zct\+::\+Timer\+::set\+Expiry\+Callback (\begin{DoxyParamCaption}\item[{std\+::function$<$ void()$>$}]{callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the expiry callback function.


\begin{DoxyParams}{Parameters}
{\em callback} & The callback function to call when the timer expires. Set to nullptr to disable callback. \\
\hline
\end{DoxyParams}
\Hypertarget{classzct_1_1Timer_a6701738d9815e1270882c1dd207a8890}\label{classzct_1_1Timer_a6701738d9815e1270882c1dd207a8890} 
\index{zct::Timer@{zct::Timer}!setIsRegistered@{setIsRegistered}}
\index{setIsRegistered@{setIsRegistered}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{setIsRegistered()}{setIsRegistered()}}
{\footnotesize\ttfamily void zct\+::\+Timer\+::set\+Is\+Registered (\begin{DoxyParamCaption}\item[{bool}]{is\+Registered }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Set the is\+Registered flag. Used to log warnings if a timer is started when it is not registered with any timer managers.


\begin{DoxyParams}{Parameters}
{\em is\+Registered} & The value to set the is\+Registered flag to. \\
\hline
\end{DoxyParams}
\Hypertarget{classzct_1_1Timer_ac98b8c2905ad49b083265b9da5b8a750}\label{classzct_1_1Timer_ac98b8c2905ad49b083265b9da5b8a750} 
\index{zct::Timer@{zct::Timer}!start@{start}}
\index{start@{start}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{start()}{start()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void zct\+::\+Timer\+::start (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{period\+\_\+ms }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Start the timer in reoccurring mode. The timer will expire for the first time after period\+\_\+ms from when this is called, and then period\+\_\+ms after that.


\begin{DoxyParams}{Parameters}
{\em period\+\_\+ms} & The period of the timer. Should be a positive integer. \\
\hline
\end{DoxyParams}
\Hypertarget{classzct_1_1Timer_aba24924ed33fdfd888a587b7e119a3d0}\label{classzct_1_1Timer_aba24924ed33fdfd888a587b7e119a3d0} 
\index{zct::Timer@{zct::Timer}!start@{start}}
\index{start@{start}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{start()}{start()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void zct\+::\+Timer\+::start (\begin{DoxyParamCaption}\item[{int64\+\_\+t}]{start\+Duration\+\_\+ms,  }\item[{int64\+\_\+t}]{period\+\_\+ms }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Start the timer in either one-\/shot or reoccurring mode.


\begin{DoxyParams}{Parameters}
{\em start\+Duration\+\_\+ms} & The time to wait before the first expiry. Must either be 0 (no-\/wait) or positive. \\
\hline
{\em period\+\_\+ms} & The period of the timer. Set to -\/1 for a one-\/shot timer, or 0/positive for a recurring timer. \\
\hline
\end{DoxyParams}
\Hypertarget{classzct_1_1Timer_ae0b1e80350596a948566ce453d0fed48}\label{classzct_1_1Timer_ae0b1e80350596a948566ce453d0fed48} 
\index{zct::Timer@{zct::Timer}!stop@{stop}}
\index{stop@{stop}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void zct\+::\+Timer\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Stop the timer. This will prevent the timer from expiring until \doxylink{classzct_1_1Timer_ac98b8c2905ad49b083265b9da5b8a750}{start()} is called again.

This does not deregister the timer from the timer manager (if registered), nor does this clear the event that is saved in the timer for when it expires. \Hypertarget{classzct_1_1Timer_a541f0bde7e703bb26dbc4c766b36d251}\label{classzct_1_1Timer_a541f0bde7e703bb26dbc4c766b36d251} 
\index{zct::Timer@{zct::Timer}!updateAfterExpiry@{updateAfterExpiry}}
\index{updateAfterExpiry@{updateAfterExpiry}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{updateAfterExpiry()}{updateAfterExpiry()}}
{\footnotesize\ttfamily void zct\+::\+Timer\+::update\+After\+Expiry (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

Designed to be called by the state machine when the timer expires.

This will either\+:
\begin{DoxyEnumerate}
\item Stop the timer if it is a one-\/shot timer.
\item Update the next expiry time if it is a recurring timer. 
\end{DoxyEnumerate}

\doxysubsection{Member Data Documentation}
\Hypertarget{classzct_1_1Timer_a61fd51b066e873a1a192455782b9b7d8}\label{classzct_1_1Timer_a61fd51b066e873a1a192455782b9b7d8} 
\index{zct::Timer@{zct::Timer}!m\_expiryCallback@{m\_expiryCallback}}
\index{m\_expiryCallback@{m\_expiryCallback}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{m\_expiryCallback}{m\_expiryCallback}}
{\footnotesize\ttfamily std\+::function$<$void()$>$ zct\+::\+Timer\+::m\+\_\+expiry\+Callback\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{classzct_1_1Timer_a523476fda81240be3246e365c74e94d3}\label{classzct_1_1Timer_a523476fda81240be3246e365c74e94d3} 
\index{zct::Timer@{zct::Timer}!m\_isRegistered@{m\_isRegistered}}
\index{m\_isRegistered@{m\_isRegistered}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{m\_isRegistered}{m\_isRegistered}}
{\footnotesize\ttfamily bool zct\+::\+Timer\+::m\+\_\+is\+Registered = false\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{classzct_1_1Timer_a94e27678d7e899132fa4b69dec1d43ee}\label{classzct_1_1Timer_a94e27678d7e899132fa4b69dec1d43ee} 
\index{zct::Timer@{zct::Timer}!m\_isRunning@{m\_isRunning}}
\index{m\_isRunning@{m\_isRunning}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{m\_isRunning}{m\_isRunning}}
{\footnotesize\ttfamily bool zct\+::\+Timer\+::m\+\_\+is\+Running = false\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{classzct_1_1Timer_a7965a7a0b20f111aca41d4465e926a67}\label{classzct_1_1Timer_a7965a7a0b20f111aca41d4465e926a67} 
\index{zct::Timer@{zct::Timer}!m\_name@{m\_name}}
\index{m\_name@{m\_name}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{m\_name}{m\_name}}
{\footnotesize\ttfamily const char\texorpdfstring{$\ast$}{*} zct\+::\+Timer\+::m\+\_\+name\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{classzct_1_1Timer_ac83e60ac68c62cfdb6731df6409ac277}\label{classzct_1_1Timer_ac83e60ac68c62cfdb6731df6409ac277} 
\index{zct::Timer@{zct::Timer}!nextExpiryTime\_ticks@{nextExpiryTime\_ticks}}
\index{nextExpiryTime\_ticks@{nextExpiryTime\_ticks}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{nextExpiryTime\_ticks}{nextExpiryTime\_ticks}}
{\footnotesize\ttfamily int64\+\_\+t zct\+::\+Timer\+::next\+Expiry\+Time\+\_\+ticks = 0\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{classzct_1_1Timer_ad59df18accad8b7987eea780b2e03681}\label{classzct_1_1Timer_ad59df18accad8b7987eea780b2e03681} 
\index{zct::Timer@{zct::Timer}!period\_ticks@{period\_ticks}}
\index{period\_ticks@{period\_ticks}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{period\_ticks}{period\_ticks}}
{\footnotesize\ttfamily int64\+\_\+t zct\+::\+Timer\+::period\+\_\+ticks = 0\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{classzct_1_1Timer_aea6344e1e2f4780409ac6fab119e50ab}\label{classzct_1_1Timer_aea6344e1e2f4780409ac6fab119e50ab} 
\index{zct::Timer@{zct::Timer}!startTime\_ticks@{startTime\_ticks}}
\index{startTime\_ticks@{startTime\_ticks}!zct::Timer@{zct::Timer}}
\doxysubsubsection{\texorpdfstring{startTime\_ticks}{startTime\_ticks}}
{\footnotesize\ttfamily int64\+\_\+t zct\+::\+Timer\+::start\+Time\+\_\+ticks = 0\hspace{0.3cm}{\ttfamily [protected]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/home/runner/work/\+Zephyr\+Cpp\+Toolkit/\+Zephyr\+Cpp\+Toolkit/include/\+Zephyr\+Cpp\+Toolkit/\+Events/\mbox{\hyperlink{Timer_8hpp}{Timer.\+hpp}}\end{DoxyCompactItemize}
